<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aliyev Phone Store</title>

  <style>
    body {
      margin: 0;
      padding: 20px;
      background: #000;
      color: white;
      font-family: Arial, sans-serif;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
    }

    .product {
      background: #111;
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 0 10px rgba(255,255,255,0.1);
      position: relative;
    }

    .product img {
      width: 100%;
      height: 180px;
      border-radius: 10px;
      object-fit: cover;
    }

    .btn {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 6px;
      margin-top: 8px;
      color: white;
      text-decoration: none;
      font-size: 14px;
      cursor: pointer;
    }

    .edit { background: #1e90ff; }
    .delete { background: #ff3b3b; }
    .add-btn {
      display: block;
      width: 200px;
      margin: 20px auto;
      padding: 12px;
      background: #1e90ff;
      color: white;
      text-align: center;
      border-radius: 8px;
      text-decoration: none;
      font-size: 18px;
    }
  </style>
</head>
<body>

  <h1>Aliyev Phone Store</h1>

  <a class="add-btn" href="add-product.html">➕ Məhsul əlavə et</a>

  <div class="product-list" id="productList"></div>

  <script>
    function loadProducts() {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      let list = document.getElementById("productList");
      list.innerHTML = "";

      products.forEach((p, index) => {
        list.innerHTML += `
          <div class="product">
            <img src="${p.image}">
            <h3>${p.name}</h3>
            <p>${p.price} AZN</p>

            <a class="btn edit" onclick="editProduct(${index})">Redaktə et</a>
            <a class="btn delete" onclick="deleteProduct(${index})">Sil</a>
          </div>
        `;
      });
    }

    function deleteProduct(index) {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      if (!confirm("Məhsulu silmək istəyirsən?")) return;

      products.splice(index, 1);
      localStorage.setItem("products", JSON.stringify(products));
      loadProducts();
    }

    function editProduct(index) {
      localStorage.setItem("editIndex", index);
      window.location.href = "add-product.html";
    }

    loadProducts();
  </script>
</body>
</html>
